version: 1
id: WO-P2.1
epic_id: E-0001
title: AST Cache Telemetry Integration (Audit Grade)
priority: P0
status: done
owner: null
scope:
  allow:
  - src/domain/ast_cache.py
  - src/infrastructure/factories.py
  - src/infrastructure/cli_ast.py
  - src/application/pr2_context_searcher.py
  - tests/integration/test_ast_cache_telemetry.py
  deny:
  - .env*
verify:
  commands:
  - uv run pytest -q tests/integration/test_ast_cache_telemetry.py
  - uv run pytest -q tests/integration/test_ast_cache_persist_cross_run_cli.py
  verified_at_sha: HEAD
dod_id: DOD-DEFAULT
x_objective: "Integrar telemetr\xEDa audit-grade en AST cache.\n"
x_deliverables:
- TelemetryAstCache wrapper (src/infrastructure/telemetry_cache.py)
- Factory telemetry wiring
- E2E tests (3/3 PASSED)
- 'Events: ast.cache.{hit,miss,write}'
x_notes: 'Completed 2026-01-06.

  All tests passing (7/7 total: 3 new + 4 regression).

  '
