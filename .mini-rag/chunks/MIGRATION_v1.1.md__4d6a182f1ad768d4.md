### Test Results
- **Before**: 15/15 PASS (naive logic)
- **After**: 16/16 PASS (path-aware + nested test)
- **Integration**: 82/82 PASS (full test suite)

---
