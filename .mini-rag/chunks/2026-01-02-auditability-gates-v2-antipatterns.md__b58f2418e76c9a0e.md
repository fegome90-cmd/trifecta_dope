| Gate | Criterio PASS | Comando Exacto (RC preservado) | Evidencia Requerida | Anti-Patrones Evitados |
|------|---------------|-------------------------------|---------------------|------------------------|
| **G1: Baseline reproducible** | `pytest --collect-only` retorna RC=0 (NO "ERROR collecting") | `uv run pytest --collect-only -q 2>&1 \| tee /tmp/g1_pytest.log; echo "G1_RC=\${PIPESTATUS[0]}"` | (1) `/tmp/g1_pytest.log` (stdout/stderr crudo), (2) `G1_RC` (0=PASS) | AP6: No `2>/dev/null`; AP7: RC explÃ­cito determina PASS/FAIL |
| **G2: Path Hygiene (no PII)** | `_ctx/context_pack.json` NO contiene `/Users/`, `/home/`, `file://` | `uv run trifecta ctx sync -s . 2>&1 \| tee /tmp/g2_sync.log; SYNC_RC=\${PIPESTATUS[0]}; rg -n '"/Users/\|"/home/\|file://' _ctx/context_pack.json 2>&1 \| tee /tmp/g2_rg.log; echo "G2_SYNC=$SYNC_RC"; echo "G2_RG=$?"` | (1) `/tmp/g2_sync.log` (sync output), (2) `/tmp/g2_rg.log` (rg output), (3) `G2_SYNC` (0=sync ok), (4) `G2_RG` (1=no matches=PASS) | AP6: Todo tee'd; AP7: rg RC=1 es PASS; AP10: Sync debe pasar primero |
| **G3: ast symbols operable** | `trifecta ast symbols` NO retorna FILE_NOT_FOUND | `uv run trifecta ast symbols sym://python/mod/context_service 2>&1 \| tee /tmp/g3_ast.log; AST_RC=\${PIPESTATUS[0]}; STATUS=\$(jq -r '.status // "error"' /tmp/g3_ast.log); CODE=\$(jq -r '.errors[0].code // "null"' /tmp/g3_ast.log); echo "G3_AST=$AST_R
