### 3. Explosión de Estado por Inmutabilidad (Context Bloat)
**La Falla:** La arquitectura FP pura pasa el objeto `AgentState` completo (historial, código, contexto) de una función a otra.
**El Problema Real:** Los LLMs tienen ventanas de contexto finitas y costosas. Mantener un historial inmutable completo en tareas de "horizonte largo" (más de 50 pasos) garantiza que el agente se convierta en un "pez dorado" (olvide instrucciones iniciales) o que los costos se disparen. La pureza funcional, si se implementa ingenuamente copiando todo el historial, mata la viabilidad técnica.
**Solución (Filosofía Trifecta):** Implementar **Compresión de Estado con Pérdida Controlada**. Una función pura intermedia `compress_state(State) -> State` que use un LLM para resumir la "memoria a corto plazo" en "memoria a largo plazo" (o actualice un grafo de conocimiento) antes de pasar al siguiente paso recursivo, manteniendo la inmutabilidad estructural pero reduciendo la carga de tokens.
