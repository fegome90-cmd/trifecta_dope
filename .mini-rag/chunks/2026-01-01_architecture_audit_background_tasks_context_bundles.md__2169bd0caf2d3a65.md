amilia de comandos para background task lifecycle (start/ps/tail/cancel) | Nuevo attack surface: task state en disco puede ser manipulado | HIGH: Implementar state machine en `_ctx/tasks/<task_id>/state.json` con versioned schema | BackgroundTaskManager + lockfile per task | `task_completion_rate`, `task_timeout_rate` |
| **O9** | `trifecta bundle pack` (new command) | **Bundle** | Comando que genera un `.trifecta-bundle.tar.gz` de Ãºltimo run (events + files + manifest) | Archive puede contener secrets si no hay scan previo | HIGH: Pre-scan con allowlist/denylist antes de pack | Bundle policy engine + secrets scanner | `bundle_pack_scan_failure_rate`, `secrets_detected_count` |
| **O10** | `trifecta bundle replay <bundle>` | **Bundle** | Replay de comandos desde un bundle (dry-run de tool calls para debug) | Replay puede tener side-effects si no se mockean writes | HIGH: Mockear FileSystemAdapter en replay mode, dry-run only | Replay engine con mocked I/O | `replay_fidelity_score` (% tool calls replayables) |
| **O11** | `FileSystemAdapter.scan_files()` | **Bundle** | Grabar lista de archivos escaneados (paths) como metadata del bundle | Scan puede capturar node_modules, .git (bloat) | MIN: Agregar exclusion patterns (GLOB) en bundle config | Denylist YAML | `scanned_paths_count`, `excluded_paths_count` |
| **O12** | `Telemetry.flush()` post-run | **Bundle** | Empaquetar teleme
